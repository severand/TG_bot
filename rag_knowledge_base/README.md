# RAG ะะพะดัะปั ะะฐะทั ะะฝะฐะฝะธะน ๐ง

**ะะตััะธั:** 1.0.0 (ะะะะะะะะะ)  
**ะกัะฐััั:** ๐ง ะะบัะธะฒะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ  
**ะะฑะฝะพะฒะปะตะฝะพ:** 2025-12-21 (ะะฐััะตัั ะณะพัะพะฒั!)  

---

## ๐ ะะฟะธัะฐะฝะธะต ะะพะดัะปั

ะญัะพ **ะพัะดะตะปัะฝัะน, ะผะฐัััะฐะฑะธััะตะผัะน RAG (Retrieval-Augmented Generation) ะผะพะดัะปั** ะดะปั ะฟัะพะตะบัะฐ TG_bot.

### ะัะฝะพะฒะฝัะต ะะพะทะผะพะถะฝะพััะธ

**โ ะฃะถะต ะะะะะะะะะะะ:**
- ๐ **ะฃะฟัะฐะฒะปะตะฝะธะต ะะพะบัะผะตะฝัะฐะผะธ** - ะะฐะณััะทะบะฐ, ัะพััะฐะฝะตะฝะธะต, ะฟะพะธัะบ ะดะพะบัะผะตะฝัะพะฒ
  - โ **7 ะฟะฐััะตัะพะฒ** ะดะปั: PDF, DOCX, DOC, XLSX, XLS, TXT, ZIP
  - โ **TextCleaner** ะดะปั ะพัะธััะบะธ ัะตะบััะฐ
  - โ **FileConverter** - ะณะปะฐะฒะฝัะน ะพัะบะตัััะฐัะพั
  - โ **ZIP Security** - ะทะฐัะธัะฐ ะพั zip bombs ะธ path traversal

**๐ ะ ะะะะฆะััะ:**
- ๐ง ะกะตะผะฐะฝัะธัะตัะบะธะน ะะพะธัะบ - Embeddings + Vector Store
- ๐พ ะะตะบัะพัะฝะพะต ะฅัะฐะฝะธะปะธัะต - ChromaDB ะดะปั ัััะตะบัะธะฒะฝะพะณะพ ะฟะพะธัะบะฐ
- ๐ค ะะฝัะตะณัะฐัะธั ั LLM - ะัะฒะตัั ะฝะฐ ะพัะฝะพะฒะต ะดะพะบัะผะตะฝัะพะฒ
- ๐ ะะฐัััะฐะฑะธััะตะผะพััั - ะะพะดะดะตัะถะบะฐ 1000+ ะดะพะบัะผะตะฝัะพะฒ

---

## ๐ฏ ะะฐะดะฐัะฐ ะธ ะะธะดะตะฝะธะต

### ะัะพะฑะปะตะผะฐ

ะะพะปัะทะพะฒะฐัะตะปะธ ะฟะพััะพัะฝะฝะพ ะทะฐะณััะถะฐัั ะพะดะฝะธ ะธ ัะต ะถะต ะดะพะบัะผะตะฝัั, ะฐ ะฑะพัั ะฝะต ะฟะพะผะฝัั ะธะฝัะพัะผะฐัะธั.

### ะะตัะตะฝะธะต

RAG ะฟะพะทะฒะพะปัะตั ะทะฐะณััะทะธัั ะดะพะบัะผะตะฝัั ะะะะ ะะะ ะธ ะทะฐะดะฐะฒะฐัั ะฝะตะพะณัะฐะฝะธัะตะฝะฝะพะต ะบะพะปะธัะตััะฒะพ ะฒะพะฟัะพัะพะฒ ั ัะพัะฝัะผะธ ะพัะฒะตัะฐะผะธ.

---

## ๐ ะกัััะบัััะฐ ะัะพะตะบัะฐ

```
rag_knowledge_base/
โโโ README.md                        # ะญัะพั ัะฐะนะป
โโโ ARCHITECTURE.md                 # ะขะตัะฝะธัะตัะบะฐั ะฐััะธัะตะบัััะฐ
โโโ DEVELOPMENT.md                  # ะะฐะนะด ัะฐะทัะฐะฑะพััะธะบะฐ
โโโ TECHNICAL_SPECIFICATION.md      # ะะพะปะฝะพะต ะขะ (ะะะะะะะะะ)
โโโ INTEGRATION.md                  # ะะฐะบ ะฒัััะพะธัั ะฒ TG_bot
โโโ requirements.txt                # ะะฐะฒะธัะธะผะพััะธ
โ
โโโ rag_module/                    # ะัะฝะพะฒะฝะพะน ะผะพะดัะปั
โ   โโโ __init__.py
โ   โโโ config.py                 # ะะพะฝัะธะณััะฐัะธั
โ   โโโ models.py                 # ะะพะดะตะปะธ ะดะฐะฝะฝัั
โ   โโโ exceptions.py             # ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ
โ   โ
โ   โโโ file_processing/          # โ ะะะขะะะ (7 ะฟะฐััะตัะพะฒ)
โ   โ   โโโ __init__.py
โ   โ   โโโ pdf_parser.py          # PDFParser
โ   โ   โโโ docx_parser.py         # DOCXParser
โ   โ   โโโ doc_parser.py          # DOCParser (aspose.words)
โ   โ   โโโ excel_parser.py        # ExcelParser
โ   โ   โโโ text_cleaner.py        # TextCleaner
โ   โ   โโโ converter.py           # FileConverter
โ   โ   โโโ zip_handler.py         # ZIPHandler (secure)
โ   โ
โ   โโโ services/                 # ๐ ะะปะฐะฝะธััะตััั
โ   โ   โโโ __init__.py
โ   โ   โโโ chunker.py             # Chunker (500-token chunks)
โ   โ   โโโ embeddings.py          # EmbeddingService
โ   โ   โโโ vector_store.py        # ChromaVectorStore
โ   โ   โโโ retriever.py           # Retriever
โ   โ   โโโ manager.py             # RAGManager
โ   โ
โ   โโโ utils/                    # ๐ ะะปะฐะฝะธััะตััั
โ       โโโ validators.py         # ะะฐะปะธะดะฐัะธั
โ       โโโ formatters.py         # ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต
โ       โโโ logger.py             # ะะพะณะธัะพะฒะฐะฝะธะต
โ
โโโ tests/                         # ๐ ะะปะฐะฝะธััะตััั
โ   โโโ test_file_processing.py
โ   โโโ test_chunker.py
โ   โโโ test_embeddings.py
โ   โโโ test_vector_store.py
โ   โโโ test_retriever.py
โ   โโโ test_manager.py
โ   โโโ test_integration.py
โ
โโโ examples/                      # ๐ ะะปะฐะฝะธััะตััั
โ   โโโ basic_example.py         # ะัะพััะพะน ะฟัะธะผะตั
โ   โโโ advanced_example.py      # ะัะพะดะฒะธะฝัััะน ะฟัะธะผะตั
โ   โโโ sample_documents/        # ะขะตััะพะฒัะต ะดะพะบัะผะตะฝัั
โ
โโโ docs/                         # ๐ ะะปะฐะฝะธััะตััั
    โโโ API.md                   # API ัะตัะตัะตะฝั
    โโโ FAQ.md                   # ะงะฐัััะต ะฒะพะฟัะพัั
    โโโ PERFORMANCE.md           # ะะตะฝัะผะฐัะบะธ
    โโโ MIGRATION.md             # ะะธะณัะฐัะธั
```

---

## ๐ ะัััััะน ะกัะฐัั

### ะฃััะฐะฝะพะฒะบะฐ

```bash
# ะฃััะฐะฝะพะฒะธัั ะทะฐะฒะธัะธะผะพััะธ
cd rag_knowledge_base
pip install -r requirements.txt

# ะัะพะฒะตัะธัั ัััะฐะฝะพะฒะบั
python -c "from rag_module.file_processing import FileConverter; print('โ ะะะ ะผะพะดัะปั ะณะพัะพะฒ')"
```

### ะะฐะทะพะฒะพะต ะัะฟะพะปัะทะพะฒะฐะฝะธะต

```python
# ะะฐััะธะฝะณ ัะฐะนะปะพะฒ
from rag_module.file_processing import FileConverter
from pathlib import Path

converter = FileConverter()

# ะะพะดะดะตัะถะธะฒะฐะตะผัะต ัะพัะผะฐัั
ะณะพัะพะฒะพ = [
    ะะพะฝะฒะตััะตั.is_supported(Path('file.pdf')),      # True
    ะะพะฝะฒะตััะตั.is_supported(Path('file.docx')),     # True
    ะะพะฝะฒะตััะตั.is_supported(Path('file.doc')),      # True
    ะะพะฝะฒะตััะตั.is_supported(Path('file.xlsx')),     # True
    ะะพะฝะฒะตััะตั.is_supported(Path('file.xls')),      # True
    ะะพะฝะฒะตััะตั.is_supported(Path('file.txt')),      # True
    ะะพะฝะฒะตััะตั.is_supported(Path('file.zip')),      # True
]

# ะะฐััะธัั ั ะฐะฒัะพะพะฟัะตะดะตะปะตะฝะธะตะผ
ัะตะบัั = converter.extract_text(Path('contract.pdf'))
print(f'ะญะบัััะฐะบัะธัะพะฒะฐะฝะพ {len(ัะตะบัั)} ัะธะผะฒะพะปะพะฒ')
```

**ะะพะดะดะตัะถะธะฒะฐะตะผัะต ัะพัะผะฐัั:**
- โ **PDF** - PyPDF2 ะดะปั ัะพะฑะฐััะฝัะน ะฟะฐััะธะฝะณ
- โ **DOCX** - python-docx ั ะฟะพะดะดะตัะถะบะพะน ัะฐะฑะปะธั
- โ **DOC** - aspose.words ะดะปั ะบะพะดะธัะพะฒะพะบ (CP1251)
- โ **XLSX/XLS** - openpyxl ะธ xlrd ะดะปั ัะฐะฑะปะธั
- โ **TXT** - ะฟััะผะพะต ะดััะธััะฒะฐะฝะธะต
- โ **ZIP** - ะฑะตะทะพะฟะฐัะฝะพะต ะธะทะฒะปะตัะตะฝะธะต ั ะทะฐัะธัะพะน

---

## ๐ ะะฐััะฐ ะะพะบัะผะตะฝัะฐัะธะธ

**ะงะธัะฐะนัะต ะฒ ัะฐะบะพะผ ะฟะพััะดะบะต:**

1. **README.md** (ะฒั ะทะดะตัั) - ะะฑะทะพั ะธ ะฑัััััะน ััะฐัั (5 ะผะธะฝ)
2. **TECHNICAL_SPECIFICATION.md** - ะะพะปะฝะพะต ะขะ ั ะฒัะตะผะธ ะฟะพะดัะพะฑะฝะพัััะผะธ (20 ะผะธะฝ) โ **ะะะะะะะะะ**
3. **ARCHITECTURE.md** - ะขะตัะฝะธัะตัะบะพะต ัะตัะฟะตะฝะธะต (15 ะผะธะฝ)
4. **DEVELOPMENT.md** - ะะฐะบ ัะฐะทัะฐะฑะฐััะฒะฐัั ะธ ัะตััะธัะพะฒะฐัั (30 ะผะธะฝ)
5. **INTEGRATION.md** - ะะฐะบ ะฒัััะพะธัั ะฒ TG_bot (25 ะผะธะฝ)

---

## โ๏ธ ะะพะฝัะธะณััะฐัะธั

### ะะตัะตะผะตะฝะฝัะต ะะบััะถะตะฝะธั

```bash
# ะะฐััะธะฝะณ
MAX_FILE_SIZE=52428800         # 50MB
TEMP_DIR=./temp                # ะัะตะผะตะฝะฝัะต ัะฐะนะปั

# Embeddings
EMBEDDING_MODEL=sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
EMBEDDING_BATCH_SIZE=32        # ะะฐะทะผะตั ะฑะฐััะฐ

# Vector DB
VECTOR_DB_PATH=./data/vector_db # ChromaDB ะฟััั
VECTOR_DB_PERSIST=true         # ะะตััะธััะตะฝัะธั

# ะะพะธัะบ
TOP_K_RESULTS=5                # Max ัะตะทัะปััะฐัะพะฒ
SIMILARITY_THRESHOLD=0.3       # ะะธะฝ ัะธะผะธะปััะฝะพััั
```

---

## ๐ ะัะพะฑะตะฝะฝะพััะธ (ัะฝะธะบะฐะปัะฝัะต)

โ **ะะต ะฝัะถะตะฝ LibreOffice** - ะัะฟะพัะต ัะตัะฐะตั .doc  
โ **ะะฒัะพะทะฐััะธัะฝัะต ะบะพะดะธัะพะฒะบะธ** - UTF-8, CP1251, Latin-1 ะฐะฒัะพ  
โ **ะัะธััะบะฐ ัะตะบััะฐ** - ะฃะดะฐะปะตะฝะธะต ะบะพะฝััะพะปัะฝัั ัะธะผะฒ ะธ ะผััะพัะฐ  
โ **ZIP Security** - ะงะตัะฒะตะน + path traversal ะทะฐัะธัะฐ  
โ **ะขะฐะฑะปะธัั** - Excel ัะพะฒั ัะตะบะพะฝััััะธัััััั  
โ **ะัะปััะธะดะพะบัะผะตะฝัะฝัะต** - ZIP ั ะผะฝะพะถะตััะฒะพะผ ัะฐะนะปะพะฒ  

---

## ๐จ ัะตะบะพ ะะปะฐะฝ

**ะฆะตะปั:** ะกะบะปะฐะดัะฒะฐะตะผ complete RAG system

```
ะัะฝะพะฒะฝัะต ะฟะฐััะตัั (โ 100%)  
  โ
Chunker - ะะฐะทะฑะธะฒะบะฐ 500-token chunks (๐ Week 2)
  โ
Embeddings - Sentence-Transformers vectors (๐ Week 2)
  โ
Vector Store - ChromaDB ััะฐะฝะธะปะธัะต (๐ Week 2)
  โ
Retriever - ะกะตะผะฐะฝัะธัะตัะบะธะน ะฟะพะธัะบ (๐ Week 2)
  โ
RAGManager - ะัะบะตัััะฐัะธั (๐ Week 2)
  โ
TG_bot Integration - Telegram handler (๐ Week 3)
  โ
Production Ready (๐ Week 4+)
```

---

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

```bash
# ะขะตััั ะฟะฐััะธะฝะณะฐ (โ ะะฒัะพัะตััั ะฒ ัะฐะทัะฐะฑะพัะบะต)
pytest tests/test_file_processing.py -v

# ะขะตััั ะฒัะตั ะบะพะผะฟะพะฝะตะฝัะพะฒ
pytest tests/ --cov=rag_module

# ะะดะฝะธะผ ัะตัั
pytest tests/test_file_processing.py::TestPDFParser::test_extract_pdf -v
```

---

## ๐ ะกะฟะตัะธะฐะปัะฝัะต ะฟัะธะผะตัะฐะฝะธั

โ **ะะตั dependency Hell** - ะะธะฝะธะผะฐะปัะฝัะต ะดะตะฟะตะฝะดะตะฝัะธะธ  
โ **ะะพััะฐะฑะตะปัะฝะพ** - Windows/Mac/Linux ัะฐะฑะพัะฐ  
โ **Asyncio ะฟะพะดะดะตัะถะบะฐ** - ะะพะณะดะฐ ะพะฝะฐ ะธะผะฟะปะตะผะตะฝัะธััะตััั  
โ **Logging** - ะัะพัะพะป ัะตะฝะฝัะต ะปะพะณะธ  

---

## โ๏ธ ะะพะปััะธัั ะฟะพะผะพัั

- ๐ ะัะพะฑะปะตะผั? โ ัะผ. `TROUBLESHOOTING.md` (future)
- ๐ ะะพะฟัะพัั? โ ัะผ. `docs/FAQ.md` (ะดะฐะปััะต)
- ๐ ะะพะธัะบ ะฟัะธะผะตัะพะฒ? โ `examples/`
- ๐ก API ัะตั โ `docs/API.md` (ะดะฐะปััะต)

---

**ะะพัะปะตะดะฝะตะต ะพะฑะฝะพะฒะปะตะฝะธะต:** 2025-12-21  
**ะกัะฐััั:** ๐ง ะะบัะธะฒะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ (โ ะะฐััะตัั ะะะะะะะะะะะซ!)  
**ะัะฒะตัััะฒะตะฝะฝัะน:** Project Owner
